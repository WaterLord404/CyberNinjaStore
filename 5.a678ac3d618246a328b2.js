(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{lKKO:function(e,t,n){"use strict";n.r(t),n.d(t,"AccountModule",function(){return _e});var i=n("ofXK"),r=n("tyNb"),o=n("jtHE"),s=n("XNiG"),c=n("quSY");class a extends s.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(e){return this.hasError?(e.error(this.thrownError),c.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),c.a.EMPTY):super._subscribe(e)}next(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}error(e){this.hasCompleted||super.error(e)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}var l=n("fXoL");class u{}let b=(()=>{class e extends class{constructor(){}loadScript(e,t,n,i=null){if("undefined"!=typeof document&&!document.getElementById(e)){let e=document.createElement("script");e.async=!0,e.src=t,e.onload=n,i||(i=document.head),i.appendChild(e)}}}{constructor(e,t={scope:"email"}){super(),this.clientId=e,this.initOptions=t}initialize(){return new Promise((t,n)=>{try{this.loadScript(e.PROVIDER_ID,"https://apis.google.com/js/platform.js",()=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init(Object.assign(Object.assign({},this.initOptions),{client_id:this.clientId})),this.auth2.then(()=>{t()}).catch(e=>{n(e)})})})}catch(i){n(i)}})}getLoginStatus(t){const n=Object.assign(Object.assign({},this.initOptions),t);return new Promise((t,i)=>{if(this.auth2.isSignedIn.get()){let e=new u;const i=this.auth2.currentUser.get().getBasicProfile(),r=this.auth2.currentUser.get().getAuthResponse(!0);e.id=i.getId(),e.name=i.getName(),e.email=i.getEmail(),e.photoUrl=i.getImageUrl(),e.firstName=i.getGivenName(),e.lastName=i.getFamilyName(),e.response=r;const o=n=>{e.authToken=n.access_token,e.idToken=n.id_token,t(e)};n.refreshToken?this.auth2.currentUser.get().reloadAuthResponse().then(o):o(this.auth2.currentUser.get().getAuthResponse(!0))}else i(`No user is currently logged in with ${e.PROVIDER_ID}`)})}signIn(e){const t=Object.assign(Object.assign({},this.initOptions),e);return new Promise((n,i)=>{(t&&t.offline_access?this.auth2.grantOfflineAccess(e):this.auth2.signIn(e)).then(e=>{let t=new u;if(e&&e.code)t.authorizationCode=e.code;else{let e=this.auth2.currentUser.get().getBasicProfile(),n=this.auth2.currentUser.get().getAuthResponse(!0),i=n.access_token,r=n.id_token;t.id=e.getId(),t.name=e.getName(),t.email=e.getEmail(),t.photoUrl=e.getImageUrl(),t.firstName=e.getGivenName(),t.lastName=e.getFamilyName(),t.authToken=i,t.idToken=r,t.response=n}n(t)},e=>{i(e)}).catch(e=>{i(e)})})}signOut(e){return new Promise((t,n)=>{let i;i=e?this.auth2.disconnect():this.auth2.signOut(),i.then(e=>{e?n(e):t()}).catch(e=>{n(e)})})}}return e.PROVIDER_ID="GOOGLE",e})(),d=(()=>{class e{constructor(e){this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new o.a(1),this.initialized=!1,this._initState=new a,e instanceof Promise?e.then(e=>{this.initialize(e)}):this.initialize(e)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(e){this.autoLogin=void 0!==e.autoLogin&&e.autoLogin;const{onError:t=console.error}=e;e.providers.forEach(e=>{this.providers.set(e.id,e.provider)}),Promise.all(Array.from(this.providers.values()).map(e=>e.initialize())).then(()=>{if(this.autoLogin){const e=[];let t=!1;this.providers.forEach((n,i)=>{let r=n.getLoginStatus();e.push(r),r.then(e=>{e.provider=i,this._user=e,this._authState.next(e),t=!0}).catch(console.debug)}),Promise.all(e).catch(()=>{t||(this._user=null,this._authState.next(null))})}}).catch(e=>{t(e)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}refreshAuthToken(t){return new Promise((n,i)=>{if(this.initialized)if(t!==b.PROVIDER_ID)i(e.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const r=this.providers.get(t);r?r.getLoginStatus({refreshToken:!0}).then(e=>{e.provider=t,this._user=e,this._authState.next(e),n()}).catch(e=>{i(e)}):i(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(e.ERR_NOT_INITIALIZED)})}signIn(t,n){return new Promise((i,r)=>{if(this.initialized){let o=this.providers.get(t);o?o.signIn(n).then(e=>{e.provider=t,i(e),this._user=e,this._authState.next(e)}).catch(e=>{r(e)}):r(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else r(e.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((n,i)=>{if(this.initialized)if(this._user){let r=this.providers.get(this._user.provider);r?r.signOut(t).then(()=>{n(),this._user=null,this._authState.next(null)}).catch(e=>{i(e)}):i(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(e.ERR_NOT_LOGGED_IN);else i(e.ERR_NOT_INITIALIZED)})}}return e.\u0275fac=function(t){return new(t||e)(l.bc("SocialAuthServiceConfig"))},e.\u0275prov=l.Kb({token:e,factory:e.\u0275fac}),e.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",e.ERR_NOT_LOGGED_IN="Not logged in",e.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",e.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",e})(),p=(()=>{class e{constructor(e){if(e)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(t){return{ngModule:e,providers:[d,{provide:"SocialAuthServiceConfig",useValue:t}]}}}return e.\u0275mod=l.Mb({type:e}),e.\u0275inj=l.Lb({factory:function(t){return new(t||e)(l.bc(e,12))},providers:[d],imports:[[i.b]]}),e})();var g=n("tk/3");let h=(()=>{class e{constructor(e){this.http=e,this.url="user"}login(e){return this.http.post(this.url+"/login",e,{observe:"response"})}register(e){return this.http.post(this.url+"/sign-up",e)}loginGoogle(e){return this.http.post(this.url+"/login/google",e,{observe:"response"})}confirmAccount(e){return this.http.put(this.url+"/confirm-account?token="+e,null)}}return e.\u0275fac=function(t){return new(t||e)(l.bc(g.b))},e.\u0275prov=l.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n("zkEj"),f=n("7dP1"),v=n("Wsj5"),O=n("3Pt+");function T(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Username is required "),l.Tb())}function U(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Password is required "),l.Tb())}let I=(()=>{class e{constructor(e,t,n,i,r,o){this.userService=e,this.router=t,this.snackBarService=n,this.authService=i,this.cartService=r,this.socialAuthService=o,this.submitted=!1}ngOnInit(){window.scroll(0,0),this.user={username:"",password:""}}onSubmit(e){this.submitted=!0,e.invalid?this.snackBarService.popup(300):this.userService.login(this.user).subscribe(e=>this.resolveRequest(e),e=>this.rejectRequest(e))}authWithGoogle(){this.socialAuthService.signIn(b.PROVIDER_ID).then(e=>{this.userService.loginGoogle(e.idToken).subscribe(e=>this.resolveRequest(e),e=>this.rejectRequest(e))}).catch(()=>{})}resolveRequest(e){this.authService.login(e.headers.get("Authorization")),this.cartService.getCart(),this.router.navigate(["/"]),this.snackBarService.popup(210)}rejectRequest(e){switch(e.status){case 401:case 403:this.snackBarService.popup(301);break;default:this.snackBarService.popup(500)}}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(h),l.Ob(r.b),l.Ob(m.a),l.Ob(f.a),l.Ob(v.a),l.Ob(d))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-login"]],decls:25,vars:5,consts:[[1,"main","container"],[1,"form-container",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["type","text","required","","name","username",3,"ngModel","ngModelChange"],["username","ngModel"],[4,"ngIf"],["type","password","required","","name","password",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"button-custom"],[1,"form-footer"],[3,"routerLink"],[1,"google-container"],["src","assets/icons/google.svg","alt","google-icon",3,"click"]],template:function(e,t){if(1&e){const e=l.Vb();l.Ub(0,"div",0),l.Ub(1,"form",1,2),l.ec("ngSubmit",function(){l.yc(e);const n=l.wc(2);return t.onSubmit(n)}),l.Ub(3,"div",3),l.Ub(4,"span"),l.Gc(5,"Username"),l.Tb(),l.Ub(6,"input",4,5),l.ec("ngModelChange",function(e){return t.user.username=e}),l.Tb(),l.Ec(8,T,2,0,"label",6),l.Tb(),l.Ub(9,"div",3),l.Ub(10,"span"),l.Gc(11,"Password"),l.Tb(),l.Ub(12,"input",7,8),l.ec("ngModelChange",function(e){return t.user.password=e}),l.Tb(),l.Ec(14,U,2,0,"label",6),l.Tb(),l.Ub(15,"div",3),l.Ub(16,"button",9),l.Gc(17,"LOGIN"),l.Tb(),l.Tb(),l.Ub(18,"div",10),l.Ub(19,"span"),l.Gc(20,"New customer? "),l.Ub(21,"a",11),l.Gc(22,"Sign Up"),l.Tb(),l.Tb(),l.Tb(),l.Ub(23,"div",12),l.Ub(24,"img",13),l.ec("click",function(){return t.authWithGoogle()}),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&e){const e=l.wc(7),n=l.wc(13);l.Bb(6),l.oc("ngModel",t.user.username),l.Bb(2),l.oc("ngIf",e.errors&&1==t.submitted),l.Bb(4),l.oc("ngModel",t.user.password),l.Bb(2),l.oc("ngIf",n.errors&&1==t.submitted),l.Bb(7),l.oc("routerLink","/account/register")}},directives:[O.s,O.j,O.k,O.a,O.p,O.i,O.l,i.l,r.c],styles:[".google-container[_ngcontent-%COMP%]{margin-top:6%;position:relative}.google-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}.form-container[_ngcontent-%COMP%]{margin-top:20%}"]}),e})();function _(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Username is required "),l.Tb())}function P(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Password is required "),l.Tb())}function C(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Password must be at least 6 characters "),l.Tb())}function y(e,t){if(1&e&&(l.Ub(0,"div",19),l.Ec(1,P,2,0,"label",4),l.Ec(2,C,2,0,"label",4),l.Tb()),2&e){const e=l.ic();l.Bb(1),l.oc("ngIf",e.f.password.errors.required&&1==e.submitted),l.Bb(1),l.oc("ngIf",e.f.password.errors.minlength&&1==e.submitted)}}function E(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Name is required "),l.Tb())}function w(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Surname is required "),l.Tb())}function S(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Email is required "),l.Tb())}function x(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Email must be a valid email address "),l.Tb())}function R(e,t){if(1&e&&(l.Ub(0,"div",19),l.Ec(1,S,2,0,"label",4),l.Ec(2,x,2,0,"label",4),l.Tb()),2&e){const e=l.ic();l.Bb(1),l.oc("ngIf",e.f.email.errors.required&&1==e.submitted),l.Bb(1),l.oc("ngIf",e.f.email.errors.email&&1==e.submitted)}}function M(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Telephone is required "),l.Tb())}function G(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," County is required "),l.Tb())}function B(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," State is required "),l.Tb())}function N(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Village is required "),l.Tb())}function D(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Postal Code is required "),l.Tb())}function k(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Address is required "),l.Tb())}let q=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.userService=t,this.router=n,this.snackBarService=i,this.submitted=!1}ngOnInit(){window.scroll(0,0),this.form=this.fb.group({username:["",O.q.required],password:["",[O.q.required,O.q.minLength(6)]],name:["",O.q.required],surname:["",O.q.required],email:["",[O.q.required,O.q.email]],telephone:["",O.q.required],county:["",O.q.required],state:["",O.q.required],village:["",O.q.required],postalCode:["",O.q.required],address:["",O.q.required]})}onSubmit(){if(this.submitted=!0,this.form.invalid)return void this.snackBarService.popup(300);const e=this.createCustomer();this.userService.register(e).subscribe(()=>{this.router.navigate(["/account/login"]),this.snackBarService.popup(213)},e=>{switch(e.status){case 409:this.snackBarService.popup(0,e.error.message);break;default:this.snackBarService.popup(500)}})}createCustomer(){return{username:this.f.username.value,password:this.f.password.value,customer:{name:this.f.name.value,surname:this.f.surname.value,email:this.f.email.value,telephone:this.f.telephone.value,county:this.f.county.value,state:this.f.state.value,village:this.f.village.value,postalCode:this.f.postalCode.value,address:this.f.address.value}}}get f(){return this.form.controls}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(O.b),l.Ob(h),l.Ob(r.b),l.Ob(m.a))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-register"]],decls:65,vars:13,consts:[[1,"main","container"],[1,"form-container",3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","username"],[4,"ngIf"],["type","password","formControlName","password"],["class","container-errors",4,"ngIf"],["type","text","formControlName","name"],["type","text","formControlName","surname"],["type","email","formControlName","email"],["type","text","formControlName","telephone"],["type","text","formControlName","county"],["type","text","formControlName","state"],["type","text","formControlName","village"],["type","text","formControlName","postalCode"],["type","text","formControlName","address"],["type","submit",1,"button-custom"],[1,"form-footer"],[3,"routerLink"],[1,"container-errors"]],template:function(e,t){1&e&&(l.Ub(0,"div",0),l.Ub(1,"form",1),l.ec("ngSubmit",function(){return t.onSubmit()}),l.Ub(2,"div",2),l.Ub(3,"span"),l.Gc(4,"Username"),l.Tb(),l.Pb(5,"input",3),l.Ec(6,_,2,0,"label",4),l.Tb(),l.Ub(7,"div",2),l.Ub(8,"span"),l.Gc(9,"Password"),l.Tb(),l.Pb(10,"input",5),l.Ec(11,y,3,2,"div",6),l.Tb(),l.Ub(12,"div",2),l.Ub(13,"span"),l.Gc(14,"Name"),l.Tb(),l.Pb(15,"input",7),l.Ec(16,E,2,0,"label",4),l.Tb(),l.Ub(17,"div",2),l.Ub(18,"span"),l.Gc(19,"Surname"),l.Tb(),l.Pb(20,"input",8),l.Ec(21,w,2,0,"label",4),l.Tb(),l.Ub(22,"div",2),l.Ub(23,"span"),l.Gc(24,"Email"),l.Tb(),l.Pb(25,"input",9),l.Ec(26,R,3,2,"div",6),l.Tb(),l.Ub(27,"div",2),l.Ub(28,"span"),l.Gc(29,"Telephone"),l.Tb(),l.Pb(30,"input",10),l.Ec(31,M,2,0,"label",4),l.Tb(),l.Ub(32,"div",2),l.Ub(33,"span"),l.Gc(34,"Country"),l.Tb(),l.Pb(35,"input",11),l.Ec(36,G,2,0,"label",4),l.Tb(),l.Ub(37,"div",2),l.Ub(38,"span"),l.Gc(39,"State"),l.Tb(),l.Pb(40,"input",12),l.Ec(41,B,2,0,"label",4),l.Tb(),l.Ub(42,"div",2),l.Ub(43,"span"),l.Gc(44,"Village"),l.Tb(),l.Pb(45,"input",13),l.Ec(46,N,2,0,"label",4),l.Tb(),l.Ub(47,"div",2),l.Ub(48,"span"),l.Gc(49,"Postal Code"),l.Tb(),l.Pb(50,"input",14),l.Ec(51,D,2,0,"label",4),l.Tb(),l.Ub(52,"div",2),l.Ub(53,"span"),l.Gc(54,"Address"),l.Tb(),l.Pb(55,"input",15),l.Ec(56,k,2,0,"label",4),l.Tb(),l.Ub(57,"div",2),l.Ub(58,"button",16),l.Gc(59,"REGISTER"),l.Tb(),l.Tb(),l.Ub(60,"div",17),l.Ub(61,"span"),l.Gc(62,"Already have an account? "),l.Ub(63,"a",18),l.Gc(64,"Login"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&e&&(l.Bb(1),l.oc("formGroup",t.form),l.Bb(5),l.oc("ngIf",t.f.username.errors&&1==t.submitted),l.Bb(5),l.oc("ngIf",t.f.password.errors),l.Bb(5),l.oc("ngIf",t.f.name.errors&&1==t.submitted),l.Bb(5),l.oc("ngIf",t.f.surname.errors&&1==t.submitted),l.Bb(5),l.oc("ngIf",t.f.email.errors),l.Bb(5),l.oc("ngIf",t.f.telephone.errors&&1==t.submitted),l.Bb(5),l.oc("ngIf",t.f.county.errors&&1==t.submitted),l.Bb(5),l.oc("ngIf",t.f.state.errors&&1==t.submitted),l.Bb(5),l.oc("ngIf",t.f.village.errors&&1==t.submitted),l.Bb(5),l.oc("ngIf",t.f.postalCode.errors&&1==t.submitted),l.Bb(5),l.oc("ngIf",t.f.address.errors&&1==t.submitted),l.Bb(7),l.oc("routerLink","/account/login"))},directives:[O.s,O.j,O.d,O.a,O.i,O.c,i.l,r.c],styles:[""]}),e})();var j=n("kmnG");function A(e,t){if(1&e&&(l.Ub(0,"div",1),l.Ub(1,"div"),l.Ub(2,"p"),l.Gc(3),l.Tb(),l.Ub(4,"p"),l.Gc(5),l.Tb(),l.Ub(6,"p"),l.Gc(7),l.Tb(),l.Ub(8,"p"),l.Gc(9),l.Tb(),l.Ub(10,"p"),l.Gc(11),l.Tb(),l.Ub(12,"p"),l.Gc(13),l.Tb(),l.Ub(14,"p"),l.Gc(15),l.Tb(),l.Tb(),l.Tb()),2&e){const e=l.ic();l.Bb(3),l.Jc("Name: ",e.user.customer.name," ",e.user.customer.surname,""),l.Bb(2),l.Ic("Email: ",e.user.customer.email,""),l.Bb(2),l.Ic("Telephone: ",e.user.customer.telephone,""),l.Bb(2),l.Ic("State: ",e.user.customer.state,""),l.Bb(2),l.Ic("County: ",e.user.customer.county,""),l.Bb(2),l.Ic("Village: ",e.user.customer.village,""),l.Bb(2),l.Ic("Address: ",e.user.customer.address,"")}}let L=(()=>{class e{constructor(e){this.authService=e}ngOnInit(){this.user=this.authService.getUser()}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(f.a))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-user"]],decls:1,vars:1,consts:[["class","main user-details-container",4,"ngIf"],[1,"main","user-details-container"]],template:function(e,t){1&e&&l.Ec(0,A,16,8,"div",0),2&e&&l.oc("ngIf",t.user)},directives:[i.l],styles:[".user-details-container[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;flex-direction:column;min-height:85vh;margin-top:0;text-transform:none}.user-details-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:rgba(0,0,0,.75);text-align:left;letter-spacing:1px;text-transform:uppercase;font:500 14px SF UI Display,sans-serif;text-align:center;width:90%;justify-content:center;margin:2% auto;background-color:#f60;color:#fff;border-radius:1%;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.user-details-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   s[_ngcontent-%COMP%]{color:rgba(0,0,0,.25)}.user-details-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0;font-size:small}@media (min-width:1366px){div[_ngcontent-%COMP%]{width:30%}}"]}),e})();var V=n("X+Nl"),F=n("nYR2");let z=(()=>{class e{constructor(e,t,n,i){this.userService=e,this.route=t,this.snackBarService=n,this.router=i}ngOnInit(){this.userService.confirmAccount(this.route.snapshot.paramMap.get("token")).pipe(Object(F.a)(()=>this.router.navigate(["/account/login"]))).subscribe(()=>this.snackBarService.popup(212),()=>{})}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(h),l.Ob(r.a),l.Ob(m.a),l.Ob(r.b))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-confirm-account"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})();var H=n("R0Ic"),K=n("0IaG"),W=n("1Sqb"),$=n("+S+l"),X=n("1kSV");function Y(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Details is required "),l.Tb())}function Z(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Details must be at least 10 characters "),l.Tb())}function J(e,t){1&e&&(l.Ub(0,"label"),l.Gc(1," Details must be at less 255 characters "),l.Tb())}function Q(e,t){if(1&e&&(l.Ub(0,"div",10),l.Ec(1,Y,2,0,"label",11),l.Ec(2,Z,2,0,"label",11),l.Ec(3,J,2,0,"label",11),l.Tb()),2&e){const e=l.ic();l.Bb(1),l.oc("ngIf",e.f.details.errors.required&&1==e.submitted),l.Bb(1),l.oc("ngIf",e.f.details.errors.minlength&&1==e.submitted),l.Bb(1),l.oc("ngIf",e.f.details.errors.maxlength&&1==e.submitted)}}let ee=(()=>{class e{constructor(e,t,n,i,r,o,s){this.data=e,this.documentService=t,this.router=n,this.dialog=i,this.fb=r,this.snackBarService=o,this.reviewService=s,this.submitted=!1,this.item=e}ngOnInit(){this.form=this.fb.group({value:["",O.q.required],details:["",[O.q.required,O.q.minLength(10),O.q.maxLength(255)]]})}onSubmit(){if(this.submitted=!0,this.form.invalid)return void this.snackBarService.popup(300);const e=this.createReview();this.reviewService.addReview(this.item.id,e).subscribe(()=>{this.dialog.closeAll(),this.snackBarService.popup(214)},e=>{switch(e.status){case 409:this.snackBarService.popup(410);break;default:this.snackBarService.popup(500)}})}createReview(){return{value:this.f.value.value,details:this.f.details.value}}get f(){return this.form.controls}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(K.a),l.Ob(W.a),l.Ob(r.b),l.Ob(K.b),l.Ob(O.b),l.Ob(m.a),l.Ob($.a))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-rating-dialog"]],decls:15,vars:5,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"mat-typography"],[1,"items"],[1,"item-name"],[1,"order-details"],["formControlName","value",1,"stars",3,"max","readonly"],["formControlName","details","placeholder","Write a review..."],["class","container-errors",4,"ngIf"],[1,"relative-big-button"],[1,"container-errors"],[4,"ngIf"]],template:function(e,t){1&e&&(l.Ub(0,"form",0),l.ec("ngSubmit",function(){return t.onSubmit()}),l.Ub(1,"h1",1),l.Gc(2,"RATE OUR PRODUCT"),l.Tb(),l.Ub(3,"mat-dialog-content",2),l.Ub(4,"div",3),l.Ub(5,"div",4),l.Ub(6,"p"),l.Gc(7),l.Tb(),l.Tb(),l.Ub(8,"div",5),l.Pb(9,"ngb-rating",6),l.Tb(),l.Tb(),l.Pb(10,"textarea",7),l.Ec(11,Q,4,3,"div",8),l.Tb(),l.Ub(12,"mat-dialog-actions"),l.Ub(13,"button",9),l.Gc(14,"SEND REVIEW"),l.Tb(),l.Tb(),l.Tb()),2&e&&(l.oc("formGroup",t.form),l.Bb(7),l.Hc(t.item.name.toUpperCase()),l.Bb(2),l.oc("max",5)("readonly",!1),l.Bb(2),l.oc("ngIf",t.f.details.errors))},directives:[O.s,O.j,O.d,K.f,K.d,X.b,O.i,O.c,O.a,i.l,K.c],styles:[".items[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;flex-direction:row;justify-content:space-between}.items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.items[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right}.items[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}.item-name[_ngcontent-%COMP%]{margin-right:5%;white-space:nowrap;overflow:hidden}textarea[_ngcontent-%COMP%]{width:100%}.container-errors[_ngcontent-%COMP%]{display:flex;justify-content:left}.container-errors[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:rgba(0,0,0,.75);text-align:left;letter-spacing:1px;text-transform:uppercase;font:500 14px SF UI Display,sans-serif;margin:0;color:red!important}.container-errors[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   s[_ngcontent-%COMP%]{color:rgba(0,0,0,.25)}"]}),e})();var te=n("XNy5");function ne(e,t){if(1&e){const e=l.Vb();l.Ub(0,"span",3),l.ec("click",function(){return l.yc(e),l.ic().returnProduct()}),l.Gc(1,"RETURN THE PRODUCT"),l.Tb()}}let ie=(()=>{class e{constructor(e,t,n,i,r){this.data=e,this.dialog=t,this.router=n,this.orderService=i,this.snackBarService=r,this.order=e.order,this.orderDetail=e.orderDetail}ngOnInit(){}goToRatingDialog(){this.dialog.closeAll(),this.dialog.open(ee,{width:"100%",maxWidth:"60vh",height:"auto",data:this.orderDetail.product})}checkReturnDate(){const e=new Date,t=new Date(this.order.shipping.updateDate),n=new Date(this.order.shipping.updateDate);return n.setDate(t.getDate()+30),e>t&&e<n&&!1===this.orderDetail.returned}returnProduct(){this.orderService.returnProduct(this.order.shipping,this.orderDetail).subscribe(()=>{this.dialog.closeAll(),this.router.navigate(["/account/orders"]),this.snackBarService.popup(215)},()=>this.snackBarService.popup(500))}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(K.a),l.Ob(K.b),l.Ob(r.b),l.Ob(te.a),l.Ob(m.a))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-product-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title","",3,"click"],[1,"mat-typography"],[1,"items"],[3,"click"],[3,"click",4,"ngIf"]],template:function(e,t){1&e&&(l.Ub(0,"h1",0),l.ec("click",function(){return t.router.navigate(["/products/p/"+t.orderDetail.product.id]),t.dialog.closeAll()}),l.Gc(1),l.Tb(),l.Ub(2,"mat-dialog-content",1),l.Ub(3,"div",2),l.Ub(4,"span",3),l.ec("click",function(){return t.goToRatingDialog()}),l.Gc(5,"RATE THIS PRODUCT"),l.Tb(),l.Ec(6,ne,2,0,"span",4),l.Tb(),l.Tb()),2&e&&(l.Bb(1),l.Ic(" ",t.orderDetail.product.name.toUpperCase(),"\n"),l.Bb(5),l.oc("ngIf",t.checkReturnDate()))},directives:[K.f,K.d,i.l],styles:[".items[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;flex-direction:column;width:100%;justify-content:flex-start}.items[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left;margin:3% 0}h1[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();function re(e,t){1&e&&l.Pb(0,"div",6)}function oe(e,t){if(1&e&&(l.Ub(0,"div",9),l.Ub(1,"div",10),l.Ub(2,"p"),l.Gc(3),l.Tb(),l.Tb(),l.Ub(4,"div",11),l.Ub(5,"p"),l.Gc(6),l.Tb(),l.Tb(),l.Tb()),2&e){const e=l.ic().$implicit;l.Bb(3),l.Hc(e.product.name.toUpperCase()),l.Bb(3),l.Kc("",e.size,", ",e.colour,", ",e.units," PIECE")}}function se(e,t){if(1&e){const e=l.Vb();l.Ub(0,"div",12),l.ec("click",function(){l.yc(e);const t=l.ic().$implicit;return l.ic().goToProductDialog(t)}),l.Ub(1,"p"),l.Gc(2),l.Tb(),l.Tb()}if(2&e){const e=l.ic().$implicit;l.Bb(2),l.Hc(e.product.name.toUpperCase())}}function ce(e,t){if(1&e&&(l.Ub(0,"div"),l.Ec(1,oe,7,4,"div",7),l.Ec(2,se,3,1,"div",8),l.Tb()),2&e){const e=l.ic();l.Bb(1),l.oc("ngIf","INTRANSIT"==e.order.shipping.status||"ACCEPTED"==e.order.shipping.status),l.Bb(1),l.oc("ngIf","RETURNED"==e.order.shipping.status||"DELIVERED"==e.order.shipping.status)}}function ae(e,t){1&e&&l.Pb(0,"hr",13)}function le(e,t){1&e&&(l.Ub(0,"div"),l.Ub(1,"p"),l.Gc(2,"Soon you receive shipment data"),l.Tb(),l.Tb())}function ue(e,t){if(1&e&&(l.Ub(0,"div"),l.Ub(1,"div",14),l.Ub(2,"p",15),l.Gc(3,"UPDATE DATE"),l.Tb(),l.Ub(4,"p",16),l.Gc(5),l.jc(6,"date"),l.Tb(),l.Tb(),l.Ub(7,"div",14),l.Ub(8,"p",15),l.Gc(9,"COUNTRY"),l.Tb(),l.Ub(10,"p",16),l.Gc(11),l.Tb(),l.Tb(),l.Ub(12,"div",14),l.Ub(13,"p",15),l.Gc(14,"STATE"),l.Tb(),l.Ub(15,"p",16),l.Gc(16),l.Tb(),l.Tb(),l.Ub(17,"div",14),l.Ub(18,"p",15),l.Gc(19,"VILLAGE"),l.Tb(),l.Ub(20,"p",16),l.Gc(21),l.Tb(),l.Tb(),l.Tb()),2&e){const e=l.ic();l.Bb(5),l.Hc(l.lc(6,4,e.order.shipping.updateDate,"yyyy-MM-dd HH:mm")),l.Bb(6),l.Hc(e.order.shipping.county),l.Bb(5),l.Hc(e.order.shipping.state),l.Bb(5),l.Hc(e.order.shipping.village)}}let be=(()=>{class e{constructor(e,t,n){this.data=e,this.dialog=t,this.snackBarService=n,this.order=e}ngOnInit(){}goToProductDialog(e){e.returned?this.snackBarService.popup(409):(this.dialog.closeAll(),this.dialog.open(ie,{width:"100%",maxWidth:"60vh",height:"auto",data:{order:this.order,orderDetail:e}}))}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(K.a),l.Ob(K.b),l.Ob(m.a))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-order-dialog"]],decls:8,vars:5,consts:[["mat-dialog-title",""],[1,"mat-typography"],["class","border-top",4,"ngIf"],[4,"ngFor","ngForOf"],["class","hr",4,"ngIf"],[4,"ngIf"],[1,"border-top"],["class","items",4,"ngIf"],["class","items-delivered",3,"click",4,"ngIf"],[1,"items"],[1,"item-name-product"],[1,"order-details"],[1,"items-delivered",3,"click"],[1,"hr"],[1,"shipping"],[1,"item-name"],[1,"shipping-details"]],template:function(e,t){1&e&&(l.Ub(0,"h1",0),l.Gc(1,"ORDER DETAILS"),l.Tb(),l.Ub(2,"mat-dialog-content",1),l.Ec(3,re,1,0,"div",2),l.Ec(4,ce,3,2,"div",3),l.Ec(5,ae,1,0,"hr",4),l.Ec(6,le,3,0,"div",5),l.Ec(7,ue,22,7,"div",5),l.Tb()),2&e&&(l.Bb(3),l.oc("ngIf","RETURNED"==t.order.shipping.status||"DELIVERED"==t.order.shipping.status),l.Bb(1),l.oc("ngForOf",t.order.ordersDetails),l.Bb(1),l.oc("ngIf","ACCEPTED"==t.order.shipping.status||"INTRANSIT"==t.order.shipping.status),l.Bb(1),l.oc("ngIf","ACCEPTED"==t.order.shipping.status),l.Bb(1),l.oc("ngIf","INTRANSIT"==t.order.shipping.status))},directives:[K.f,K.d,i.l,i.k],pipes:[i.d],styles:[".items[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;flex-direction:row;justify-content:space-between}.items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.items[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right}.items[_ngcontent-%COMP%]   .order-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;opacity:.9}.shipping[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;flex-direction:row;justify-content:space-between}.shipping[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.shipping[_ngcontent-%COMP%]   .shipping-details[_ngcontent-%COMP%]{text-align:right;overflow:hidden}.item-name[_ngcontent-%COMP%]{white-space:nowrap}.item-name[_ngcontent-%COMP%], .item-name-product[_ngcontent-%COMP%]{margin-right:5%}.items-delivered[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;text-align:center;flex-direction:row;text-align:left;overflow:hidden;justify-content:space-between;border-bottom:1px solid rgba(0,0,0,.05);align-self:center}.items-delivered[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3% 0;color:#f60}.items-delivered[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{align-self:center;color:rgba(0,0,0,.5)}.border-top[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.05)!important}.hr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;margin:0 0 12px;width:100%}.items-delivered[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var de=n("lwos");function pe(e,t){if(1&e&&(l.Ub(0,"p"),l.Gc(1),l.Tb()),2&e){const e=l.ic().$implicit;l.Bb(1),l.Hc(e.shipping.status)}}function ge(e,t){1&e&&(l.Ub(0,"p"),l.Gc(1,"IN TRANSIT"),l.Tb())}function he(e,t){if(1&e){const e=l.Vb();l.Ub(0,"div",3),l.ec("click",function(){l.yc(e);const n=t.$implicit;return l.ic().openDialog(n)}),l.Ub(1,"div"),l.Ub(2,"p"),l.Gc(3),l.Tb(),l.Tb(),l.Ub(4,"div"),l.Ec(5,pe,2,1,"p",4),l.Ec(6,ge,2,0,"p",4),l.Tb(),l.Ub(7,"div"),l.Ub(8,"p"),l.Gc(9),l.Tb(),l.Tb(),l.Ub(10,"div"),l.Ub(11,"p"),l.Gc(12),l.Tb(),l.Tb(),l.Tb()}if(2&e){const e=t.$implicit;l.oc("@fadeIn",void 0),l.Bb(3),l.Ic("#",e.id,""),l.Bb(2),l.oc("ngIf","INTRANSIT"!=e.shipping.status),l.Bb(1),l.oc("ngIf","INTRANSIT"==e.shipping.status),l.Bb(3),l.Hc(e.purchaseDate),l.Bb(3),l.Ic("",e.totalPrice,"\u20ac")}}function me(e,t){1&e&&l.Pb(0,"img",5),2&e&&l.oc("@fadeIn",void 0)}let fe=(()=>{class e{constructor(e,t,n){this.orderService=e,this.dialog=t,this.loaderService=n,this.orders=[],this.isLoading=!1,this.loaderService.loading().subscribe(e=>this.isLoading=e)}ngOnInit(){window.scroll(0,0),this.orderService.getOrders().subscribe(e=>this.orders=e,()=>{})}openDialog(e){this.dialog.open(be,{width:"100%",maxWidth:"60vh",height:"auto",data:e})}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(te.a),l.Ob(K.b),l.Ob(de.a))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-orders"]],decls:3,vars:2,consts:[[1,"main","orders-container"],["class","order-container",3,"click",4,"ngFor","ngForOf"],["class","empty-orders","src","assets/img/emptyOrders.jpg","alt","emptyOrders",4,"ngIf"],[1,"order-container",3,"click"],[4,"ngIf"],["src","assets/img/emptyOrders.jpg","alt","emptyOrders",1,"empty-orders"]],template:function(e,t){1&e&&(l.Ub(0,"div",0),l.Ec(1,he,13,6,"div",1),l.Ec(2,me,1,1,"img",2),l.Tb()),2&e&&(l.Bb(1),l.oc("ngForOf",t.orders),l.Bb(1),l.oc("ngIf",!t.isLoading&&0==t.orders.length))},directives:[i.k,i.l],styles:[".orders-container[_ngcontent-%COMP%]{min-height:85vh}.order-container[_ngcontent-%COMP%]{color:rgba(0,0,0,.75);text-align:left;letter-spacing:1px;text-transform:uppercase;font:500 14px SF UI Display,sans-serif;display:flex;justify-content:center;text-align:center;flex-direction:row;margin:0;justify-content:space-around;width:100%;border-bottom:1px solid rgba(0,0,0,.05);height:50px;align-items:center;cursor:pointer}.order-container[_ngcontent-%COMP%]   s[_ngcontent-%COMP%]{color:rgba(0,0,0,.25)}.order-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:unset}.order-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden}.order-container[_ngcontent-%COMP%]:first-child{border-top:1px solid rgba(0,0,0,.05)}.empty-orders[_ngcontent-%COMP%]{width:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media (min-width:1366px){.empty-orders[_ngcontent-%COMP%]{width:15%}.orders-container[_ngcontent-%COMP%]{padding-right:10%;padding-left:10%}}"],data:{animation:[Object(H.l)("fadeIn",[Object(H.k)(":enter",[Object(H.j)({opacity:"0"}),Object(H.e)("300ms ease-in",Object(H.j)({opacity:"1"}))]),Object(H.k)(":leave",[Object(H.j)({opacity:"1"}),Object(H.e)("300ms ease-out",Object(H.j)({opacity:"0"}))])])]}}),e})();const ve=function(){return["/account/profile"]},Oe=function(){return["/account/orders"]};let Te=(()=>{class e{constructor(){}ngOnInit(){window.scroll(0,0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Ib({type:e,selectors:[["app-menu"]],decls:7,vars:4,consts:[[1,"main","container"],[3,"routerLink"],[1,"relative-big-button"]],template:function(e,t){1&e&&(l.Ub(0,"div",0),l.Ub(1,"a",1),l.Ub(2,"button",2),l.Gc(3,"PROFILE"),l.Tb(),l.Tb(),l.Ub(4,"a",1),l.Ub(5,"button",2),l.Gc(6,"ORDERS"),l.Tb(),l.Tb(),l.Tb()),2&e&&(l.Bb(1),l.oc("routerLink",l.rc(2,ve)),l.Bb(3),l.oc("routerLink",l.rc(3,Oe)))},directives:[r.c],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;flex-direction:column;padding-right:20%;padding-left:20%}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:3% 0}"]}),e})();var Ue=n("AytR");const Ie=[{path:"",component:Te,canActivate:[V.a]},{path:"profile",component:L,canActivate:[V.a]},{path:"confirm-account/:token",component:z},{path:"orders",component:fe,canActivate:[V.a]},{path:"login",component:I},{path:"register",component:q}];let _e=(()=>{class e{}return e.\u0275mod=l.Mb({type:e}),e.\u0275inj=l.Lb({factory:function(t){return new(t||e)},providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:b.PROVIDER_ID,provider:new b(Ue.a.googleClientID)}]}}],imports:[[i.b,r.d.forChild(Ie),j.c,O.o,O.e,p,K.e,X.c]]}),e})()}}]);